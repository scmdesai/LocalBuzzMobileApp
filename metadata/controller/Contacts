{
    "type": "Ext.app.Controller",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "designer|userClassName": "Contacts",
        "requires": [
            "Ext.MessageBox"
        ],
        "stores": [
            "MyJsonPStore",
            "MyDealsStore"
        ]
    },
    "designerId": "12f4e105-fe10-4110-a7c7-4be456e0092e",
    "cn": [
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "autoCreate": true,
                "ref": "contactinfo",
                "selector": "contactinfo",
                "xtype": "contactinfo"
            },
            "name": "contactinfo",
            "designerId": "aaf3562e-9dd8-4774-b619-db3a85a3c662"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "autoCreate": true,
                "ref": "contactlist",
                "selector": "contactlist",
                "xtype": "contactlist"
            },
            "name": "contactlist",
            "designerId": "b0dbf22d-ae16-4210-80ea-da98cf28a963"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "dataview",
                "designer|targetType": "Ext.dataview.DataView",
                "fn": "onContactItemTap",
                "implHandler": [
                    "var info = this.getContactinfo();",
                    "info.setRecord(record);",
                    "Ext.Viewport.setActiveItem(info);",
                    ""
                ],
                "name": "itemtap"
            },
            "name": "onContactItemTap",
            "designerId": "9019be36-ff75-4ffc-912b-e3ff75e854d6"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "button#infoBackBtn",
                "designer|targetType": "Ext.Button",
                "fn": "onInfoBackBtnTapHome",
                "implHandler": [
                    "var ds = Ext.StoreManager.lookup('MyJsonPStore');",
                    "ds.clearFilter() ;",
                    "Ext.Viewport.setActiveItem(0);",
                    ""
                ],
                "name": "tap"
            },
            "name": "onInfoBackBtnTapHome",
            "designerId": "7178feed-9d27-44dd-b23b-28e93c9f757c"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "favoriteview",
                "designer|targetType": "Ext.dataview.DataView",
                "fn": "onFavoriteViewActivate",
                "implHandler": [
                    "var ds = Ext.StoreManager.lookup('MyJsonPStore');",
                    "ds.filter('isFavorite', true);"
                ],
                "name": "activate"
            },
            "name": "onFavoriteViewActivate",
            "designerId": "a03bdc4d-ba07-46cf-a75a-a814494edc0e"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "contactpic",
                "designer|targetType": "Ext.picker.Picker",
                "fn": "onContactPickerChange",
                "implHandler": [
                    "var currentForm = Ext.Viewport.getActiveItem();\r",
                    "var record = currentForm.getRecord();\r",
                    "if (record) {\r",
                    "    record.set('picture', value);\r",
                    "    record.commit();\r",
                    "    currentForm.setRecord(record);\r",
                    "}\r",
                    ""
                ],
                "name": "change"
            },
            "name": "onContactPickerChange",
            "designerId": "e4509ca3-bc1e-47aa-99d1-23415c289449"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "list",
                "designer|targetType": "Ext.dataview.List",
                "fn": "onListActivate",
                "implHandler": [
                    "var ds = Ext.StoreManager.lookup('MyJsonPStore');",
                    "ds.clearFilter();"
                ],
                "name": "activate"
            },
            "name": "onListActivate",
            "designerId": "e9c9c5a8-4919-40d1-98ba-d7b517a585d6"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "autoCreate": true,
                "ref": "dealsinfo",
                "selector": "dealsinfo",
                "xtype": "listofdeals"
            },
            "name": "dealsinfo",
            "designerId": "88a938c1-6db0-485c-bba1-1efb722c1a6c"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "listofdeals",
                "designer|targetType": "ListOfDeals",
                "fn": "onListOfDealsItemTap",
                "implHandler": [
                    "var pic = this.getDealpicture();",
                    "/*console.log(\"Data View is: \") ;",
                    "console.log(dataview) ;",
                    "console.log(\"Index is: \" + index) ;",
                    "console.log(\"Target is: \") ;",
                    "console.log(target) ;",
                    "console.log(\"Event is: \") ;",
                    "console.log(e) ;",
                    "console.log(\"Event Options is: \") ;",
                    "console.log(eOpts) ;*/",
                    "pic.setRecord(record);",
                    "Ext.Viewport.setActiveItem(pic);",
                    "",
                    "",
                    "",
                    ""
                ],
                "name": "itemtap"
            },
            "name": "onListOfDealsItemTap",
            "designerId": "e374b0ee-8aa9-4764-84b9-256bd69c667c"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "autoCreate": true,
                "ref": "dealpicture",
                "selector": "dealpicture",
                "xtype": "dealpicture"
            },
            "name": "dealpicture",
            "designerId": "d13824b8-452d-44e4-b5ed-859bca7c4f5d"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "button#dealBackBtn",
                "designer|params": [
                    "button",
                    "e",
                    "eOpts"
                ],
                "designer|targetType": "Ext.Button",
                "fn": "onDealBackBtnTap",
                "implHandler": [
                    "var ds = Ext.StoreManager.lookup('MyJsonPStore');",
                    "ds.clearFilter() ;",
                    "var dealRecord = this.getContactinfo().getRecord() ;",
                    "//console.log(\"Deal Record is:\") ;",
                    "//console.log(dealRecord) ;",
                    "var customerId = dealRecord.get('customerId');",
                    "//console.log(\"Customer Id is \" + customerId) ;",
                    "ds.filter('customerId', customerId);",
                    "",
                    "var customerData = ds.getData().getAt(0) ;",
                    "//console.log(\"Customer Data is:\") ;",
                    "//console.log(customerData) ;",
                    "",
                    "var info = this.getContactinfo();",
                    "info.setRecord(customerData);",
                    "Ext.Viewport.setActiveItem(info);",
                    "//Ext.Viewport.setActiveItem('contactinfo') ;",
                    "",
                    "",
                    "",
                    "",
                    ""
                ],
                "name": "tap"
            },
            "name": "onDealBackBtnTap",
            "designerId": "0763678e-c846-4210-b4f5-5f610c744056"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "phoneNumber",
                "selector": "textfield#phoneNumber"
            },
            "name": "phoneNumber",
            "designerId": "e4904c87-4a35-4cdc-a394-8ecacc1d5486"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "address",
                "selector": "textfield#address"
            },
            "name": "address",
            "designerId": "33fc8322-ac07-4be1-8597-4005b50a7781"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "textfield#phoneNumber",
                "designer|params": [
                    "textfield",
                    "e",
                    "eOpts"
                ],
                "designer|targetType": "Ext.field.Text",
                "fn": "onPhoneNumberFocus",
                "implHandler": [
                    "console.log(textfield.getValue());",
                    "numberToDial = textfield.getValue();",
                    "textfield.blur();",
                    "e.destroy();",
                    "window.location = 'tel:'+ numberToDial ;"
                ],
                "name": "focus"
            },
            "name": "onPhoneNumberFocus",
            "designerId": "dd2cf2bb-a7c7-457a-a9ff-df73f53429f7"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "textfield#address",
                "designer|params": [
                    "textfield",
                    "e",
                    "eOpts"
                ],
                "designer|targetType": "Ext.field.Text",
                "fn": "onAddressFocus",
                "implHandler": [
                    "console.log(textfield.getValue());",
                    "var queryString = encodeURIComponent(textfield.getValue());",
                    "var url = 'geo:0,0?q='  + queryString;",
                    "textfield.blur();",
                    "e.destroy();",
                    "Ext.device.Device.openURL(url);"
                ],
                "name": "focus"
            },
            "name": "onAddressFocus",
            "designerId": "4e5ada91-5430-401a-97d0-f17dc637be6d"
        }
    ]
}