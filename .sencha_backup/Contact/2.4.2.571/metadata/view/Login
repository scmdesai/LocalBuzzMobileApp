{
    "type": "Ext.Container",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "baseCls": null,
        "container|animation": "pop",
        "designer|userClassName": "Login",
        "html": "<h3><b>Welcome to Local Buzz!</b></h3> <p>With this app you can stay in touch with your customers.In order to use Local Buzz, you must sign in with your Facebook account.</p>",
        "layout": "card",
        "maxHeight": "",
        "style": "",
        "styleHtmlCls": null,
        "styleHtmlContent": true
    },
    "name": "MyContainer2",
    "designerId": "64c531f5-e936-4afd-8cc1-7e584a9c02b6",
    "cn": [
        {
            "type": "Ext.Button",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "baseCls": null,
                "centered": true,
                "designer|uiInterfaceName": "plain",
                "docked": null,
                "height": null,
                "html": "<img src=\"resources/images/login.png\"/>",
                "icon": null,
                "iconAlign": "top",
                "iconCls": null,
                "id": "Login",
                "itemId": "Login",
                "maxHeight": "",
                "maxWidth": null,
                "minHeight": "",
                "style": "border:none;",
                "styleHtmlCls": "",
                "text": null,
                "ui": "plain",
                "width": null
            },
            "name": "MyButton9",
            "designerId": "ac45a511-4613-47bb-937a-7e59d306f9bf",
            "cn": [
                {
                    "type": "basiceventbinding",
                    "reference": {
                        "name": "listeners",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "fn": "onLoginTap",
                        "implHandler": [
                            "",
                            "",
                            "",
                            "// Settings.",
                            "FacebookInAppBrowser.settings.appId = '900651756709444';",
                            "FacebookInAppBrowser.settings.redirectUrl = 'http://appsonmobile.com';",
                            "FacebookInAppBrowser.settings.permissions = 'email';",
                            "",
                            "// Optional",
                            "FacebookInAppBrowser.settings.timeoutDuration = 7500;",
                            "",
                            "// Login(accessToken will be stored trough localStorage in 'accessToken');",
                            "FacebookInAppBrowser.login({",
                            "\tsend: function() {",
                            "\t\tconsole.log('login opened');",
                            "\t},",
                            "\tsuccess: function(access_token) {",
                            "\t\tconsole.log('done, access token: ' + access_token);",
                            "",
                            "\t},",
                            "\tdenied: function() {",
                            "\t\tconsole.log('user denied');",
                            "\t},",
                            "\ttimeout: function(){",
                            "\t\tconsole.log('a timeout has occurred, probably a bad internet connection');",
                            "\t},",
                            "\tcomplete: function(access_token) {",
                            "\t\tconsole.log('window closed');",
                            "\t\tif(access_token) {",
                            "\t\t\tconsole.log(access_token);",
                            "\t\t} else {",
                            "\t\t\tconsole.log('no access token');",
                            "\t\t}",
                            "\t},",
                            "\tuserInfo: function(userInfo) {",
                            "\t\tif(userInfo) {",
                            "\t\t\tvar userInf = JSON.stringify(userInfo);",
                            "\t\t\tconsole.log(userInf);",
                            "",
                            "\t\t\tvar info = userInf.split(\"\\\",\\\"\");",
                            "",
                            "\t\t\tvar tmp = info[0].split(\"\\\":\\\"\");",
                            "\t\t\tvar email = tmp[1];",
                            "\t\t\t//console.log(email);",
                            "\t\t\ttmp = info[1].split(\"\\\":\\\"\");",
                            "\t\t\tvar loginName = tmp[1];",
                            "",
                            "\t\t\ttmp = info[2].split(\"\\\":\\\"\");",
                            "\t\t\tvar gender = tmp[1];",
                            "",
                            "\t\t\ttmp = info[3].split(\"\\\":\\\"\");",
                            "\t\t\tvar userId = tmp[1];",
                            "",
                            "\t\t\tvar record = Ext.getStore('MyJsonPStore').findRecord('emailAddress','studionafisa@yahoo.com',0,true,false,false);",
                            "\t\t\t//console.log(store.getData());",
                            "\t\t\t//store.loadRecord();",
                            "\t\t\t//var view = Ext.create('Contact.view.Info');",
                            "\t\t\t//view.setRecord(record.getRecord());",
                            "\t\t\t//console.log(view.getData());",
                            "\t\t\t//Ext.Viewport.setActiveItem(view);",
                            "",
                            "",
                            "\t\t\tvar storeUserDetails = Ext.getStore('UserDetails');",
                            "\t\t\tstoreUserDetails.removeAll();",
                            "",
                            "\t\t\tstoreUserDetails.add({'customerId' : record.get('customerId'),",
                            "\t\t\t\t\t\t\t\t  'email': email,",
                            "\t\t\t\t\t\t\t\t  'businessName': record.get('businessName')});",
                            "",
                            "",
                            "",
                            "\t\t\t//console.log(\"User details are : \" + email +','+ record.get('customerId') +','+ record.get('businessName'));",
                            "",
                            "            var store = Ext.getStore('MyJsonPStore');",
                            "\t\t\tvar view = Ext.create(\"Ext.tab.Panel\", {",
                            "\t\t\t\titemId: 'panel' ,",
                            "            fullscreen: true,",
                            "            tabBarPosition: 'bottom',",
                            "",
                            "",
                            "",
                            "",
                            "",
                            "            items: [",
                            "                {",
                            "                    xtype: 'contactinfo',",
                            "\t\t\t\t\ttitle:'Home',",
                            "\t\t\t\t\titemId:'home',",
                            "\t\t\t\t\ticonCls:'home'",
                            "",
                            "                },",
                            "                {",
                            "                    xtype: 'DealsPanel',",
                            "\t\t\t\t\ttitle:'Buzz',",
                            "\t\t\t\t\ticonCls:'info'",
                            "                }",
                            "            ]",
                            "        });",
                            "",
                            "",
                            "",
                            "        view.getComponent('home').setRecord(record);",
                            "\t\t\tExt.Viewport.getActiveItem().destroy();",
                            "        Ext.Viewport.setActiveItem(view);",
                            "",
                            "\t\t\t//Ext.Viewport.setActiveItem({xtype:'Panel'});",
                            "\t\t\t//console.log(view.getComponent('home').getItemId());",
                            "\t\t\t//view.setData(record.getData());",
                            "\t\t\t////view.setRecord(record);",
                            "\t\t\t// Ext.Viewport.setActiveItem(view);",
                            "",
                            "",
                            "",
                            "",
                            "",
                            "",
                            "",
                            "//view.setData(record.getData());",
                            "",
                            "\t\t} else {",
                            "\t\t\tconsole.log('no user info');",
                            "\t\t}",
                            "\t}",
                            "});"
                        ],
                        "name": "tap"
                    },
                    "name": "onLoginTap",
                    "designerId": "08b75ca3-9876-4360-8a35-929b60df6d40"
                }
            ]
        }
    ]
}